2024-05-06 16:20:08.480 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-06 16:20:08.599 [main] INFO  --- c.h.d.i.BackorderIntegrationTest     :   Starting BackorderIntegrationTest using Java 21.0.2 with PID 1820 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-06 16:20:08.600 [main] DEBUG --- c.h.d.i.BackorderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-06 16:20:08.601 [main] INFO  --- c.h.d.i.BackorderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-06 16:20:10.359 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-06 16:20:10.440 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 68 ms. Found 5 JPA repository interfaces.
2024-05-06 16:20:11.698 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-06 16:20:11.718 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-06 16:20:11.722 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-06 16:20:11.722 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-06 16:20:11.817 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-06 16:20:11.818 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 3184 ms
2024-05-06 16:20:12.213 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-06 16:20:12.437 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@615d500e
2024-05-06 16:20:12.440 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-06 16:20:12.603 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-06 16:20:12.603 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-06 16:20:12.604 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-06 16:20:12.643 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-06 16:20:12.738 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.060s)
2024-05-06 16:20:12.766 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-06 16:20:12.767 [main] WARN  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` has a version (6) that is newer than the latest available migration (5) !
2024-05-06 16:20:12.767 [main] WARN  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` contains a failed future migration to version 6 !
2024-05-06 16:20:12.771 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-06 16:20:12.999 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-06 16:20:13.159 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-06 16:20:13.234 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-06 16:20:13.473 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-06 16:20:15.126 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-06 16:20:15.232 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-06 16:20:17.015 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-06 16:20:18.561 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-06 16:20:18.561 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-06 16:20:18.574 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-06 16:20:18.600 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 39 ms
2024-05-06 16:20:18.724 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-06 16:20:18.760 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 57997 (http) with context path ''
2024-05-06 16:20:18.782 [main] INFO  --- c.h.d.i.BackorderIntegrationTest     :   Started BackorderIntegrationTest in 10.624 seconds (process running for 34.845)
2024-05-06 16:20:19.405 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 423
2024-05-06 16:20:19.406 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 423
2024-05-06 16:20:19.434 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 423
2024-05-06 16:20:19.737 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 424: com.himanshu.departmentalStore.dto.BackOrderRequestBody@58d2f939
2024-05-06 16:20:19.737 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-06 16:20:19.746 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-06 16:20:19.746 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-06 16:20:20.240 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 424
2024-05-06 16:20:20.314 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 525
2024-05-06 16:20:20.314 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 525
2024-05-06 16:20:20.322 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 525
2024-05-06 16:20:20.396 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 526
2024-05-06 16:20:20.396 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-06 16:20:20.402 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 526
2024-05-06 16:20:20.472 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: com.himanshu.departmentalStore.dto.BackOrderRequestBody@70783e99
2024-05-06 16:20:20.472 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-06 16:20:20.472 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-06 16:20:20.473 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-06 16:20:20.482 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 427
2024-05-06 16:20:20.566 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-06 16:20:20.566 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-06 16:20:20.577 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-06 16:20:20.665 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 529: com.himanshu.departmentalStore.dto.BackOrderRequestBody@3f397e0
2024-05-06 16:20:20.665 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-06 16:20:20.665 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-06 16:20:20.665 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-06 16:20:20.673 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 529
2024-05-06 16:20:20.759 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 430
2024-05-06 16:20:20.759 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-06 16:20:20.772 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 430
2024-05-06 16:20:20.807 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest]: CustomerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-06 16:20:20.816 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest
2024-05-06 16:20:20.842 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 1346
2024-05-06 16:20:20.842 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 1346
2024-05-06 16:20:20.848 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@b322f3a
2024-05-06 16:20:20.848 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 1346: com.himanshu.departmentalStore.model.Customer@b322f3a
2024-05-06 16:20:20.877 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 1347
2024-05-06 16:20:20.878 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 1347
2024-05-06 16:20:20.888 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 1347 deleted successfully
2024-05-06 16:20:20.912 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-06 16:20:20.912 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-06 16:20:20.917 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 1 customers
2024-05-06 16:20:20.917 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 1 customers.
2024-05-06 16:20:20.947 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 1449
2024-05-06 16:20:20.948 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 1449
2024-05-06 16:20:20.952 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 1449
2024-05-06 16:20:20.978 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@2d458576
2024-05-06 16:20:20.978 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@2d458576
2024-05-06 16:20:20.985 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@2d458576
2024-05-06 16:20:21.016 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 1451: com.himanshu.departmentalStore.model.Customer@733a1c9a
2024-05-06 16:20:21.016 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1451: com.himanshu.departmentalStore.model.Customer@733a1c9a
2024-05-06 16:20:21.024 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 1451 not found
2024-05-06 16:20:21.025 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 1451
2024-05-06 16:20:21.058 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 1352: com.himanshu.departmentalStore.model.Customer@538bc223
2024-05-06 16:20:21.058 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1352: com.himanshu.departmentalStore.model.Customer@538bc223
2024-05-06 16:20:21.071 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 1352: com.himanshu.departmentalStore.model.Customer@2df99c60
2024-05-06 16:20:21.097 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 1453
2024-05-06 16:20:21.098 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 1453
2024-05-06 16:20:21.102 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 1453
2024-05-06 16:20:21.120 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest]: DiscountIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-06 16:20:21.129 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest
2024-05-06 16:20:21.155 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 418
2024-05-06 16:20:21.155 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 418
2024-05-06 16:20:21.163 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 418, discount : com.himanshu.departmentalStore.model.Discount@149c9b3a
2024-05-06 16:20:21.205 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 419
2024-05-06 16:20:21.205 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 419
2024-05-06 16:20:21.236 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all discounts
2024-05-06 16:20:21.237 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all discounts
2024-05-06 16:20:21.242 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all discounts : [com.himanshu.departmentalStore.model.Discount@853fbea]
2024-05-06 16:20:21.269 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 521
2024-05-06 16:20:21.269 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 521
2024-05-06 16:20:21.272 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 521
2024-05-06 16:20:21.301 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@42eaacad
2024-05-06 16:20:21.301 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@42eaacad
2024-05-06 16:20:21.342 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 523: com.himanshu.departmentalStore.model.Discount@3ed10d4a
2024-05-06 16:20:21.342 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 523: com.himanshu.departmentalStore.model.Discount@3ed10d4a
2024-05-06 16:20:21.350 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 523
2024-05-06 16:20:21.387 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 424: com.himanshu.departmentalStore.model.Discount@41b79554
2024-05-06 16:20:21.387 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 424: com.himanshu.departmentalStore.model.Discount@41b79554
2024-05-06 16:20:21.432 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 525
2024-05-06 16:20:21.433 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 525
2024-05-06 16:20:21.437 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 525
2024-05-06 16:20:21.453 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-06 16:20:21.462 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-06 16:20:21.510 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 560
2024-05-06 16:20:21.511 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 560
2024-05-06 16:20:21.516 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 560
2024-05-06 16:20:21.592 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-06 16:20:21.592 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-06 16:20:21.594 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-06 16:20:21.594 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-06 16:20:21.594 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1323
2024-05-06 16:20:21.599 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@32bed2c7
2024-05-06 16:20:21.599 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-06 16:20:21.599 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-06 16:20:21.599 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-06 16:20:21.599 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-06 16:20:21.600 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1323: com.himanshu.departmentalStore.model.Product@32bed2c7
2024-05-06 16:20:21.609 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-06 16:20:21.609 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-06 16:20:21.645 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-06 16:20:21.645 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-06 16:20:21.658 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-06 16:20:21.731 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 462
2024-05-06 16:20:21.731 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 462
2024-05-06 16:20:21.736 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-06 16:20:21.737 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1324: com.himanshu.departmentalStore.model.Product@4bfb7cde
2024-05-06 16:20:21.746 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-06 16:20:21.746 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-06 16:20:21.746 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder associated with Ordered product
2024-05-06 16:20:21.746 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder having productId: 1324
2024-05-06 16:20:21.763 [main] INFO  --- c.h.d.service.BackorderService     :   performing operation on backorder.
2024-05-06 16:20:21.770 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 462
2024-05-06 16:20:21.770 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 462
2024-05-06 16:20:21.853 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 463.
2024-05-06 16:20:21.853 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-06 16:20:21.854 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-06 16:20:21.854 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 463
2024-05-06 16:20:21.860 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-06 16:20:21.860 [main] ERROR --- c.h.d.service.OrderService     :   Can't update : Customer or Product or Discount is not same : Only Quantity can be updated
2024-05-06 16:20:21.861 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Can't update  : Customer or Product or Discount is not same : Only Quantity can be updated
2024-05-06 16:20:21.948 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 464.
2024-05-06 16:20:21.948 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-06 16:20:21.948 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-06 16:20:21.949 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 464
2024-05-06 16:20:21.953 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-06 16:20:21.953 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-06 16:20:21.953 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-06 16:20:21.954 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1326: com.himanshu.departmentalStore.model.Product@2d51a9b
2024-05-06 16:20:21.963 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-06 16:20:21.969 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-06 16:20:22.054 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-06 16:20:22.054 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-06 16:20:22.063 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-06 16:20:22.133 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-06 16:20:22.134 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-06 16:20:22.135 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-06 16:20:22.135 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-06 16:20:22.135 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1328
2024-05-06 16:20:22.138 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@7173fc92
2024-05-06 16:20:22.139 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-06 16:20:22.139 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-06 16:20:22.139 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-06 16:20:22.139 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-06 16:20:22.139 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1328: com.himanshu.departmentalStore.model.Product@7173fc92
2024-05-06 16:20:22.147 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-06 16:20:22.147 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-06 16:20:22.153 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-06 16:20:22.241 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 467
2024-05-06 16:20:22.241 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 467
2024-05-06 16:20:22.246 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 467, order : com.himanshu.departmentalStore.model.Order@5cd865cf
2024-05-06 16:20:22.247 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 467, order : com.himanshu.departmentalStore.model.Order@5cd865cf
2024-05-06 16:20:22.325 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 568
2024-05-06 16:20:22.325 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 568
2024-05-06 16:20:22.329 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 568
2024-05-06 16:20:22.402 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 569.
2024-05-06 16:20:22.402 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-06 16:20:22.402 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-06 16:20:22.402 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 569
2024-05-06 16:20:22.406 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 569
2024-05-06 16:20:22.473 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-06 16:20:22.473 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-06 16:20:22.474 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-06 16:20:22.474 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-06 16:20:22.474 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1332
2024-05-06 16:20:22.478 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@27a3871f
2024-05-06 16:20:22.478 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-06 16:20:22.478 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-06 16:20:22.478 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-06 16:20:22.479 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-06 16:20:22.479 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-06 16:20:22.485 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 431
2024-05-06 16:20:22.485 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Ordered quantity is more then quantity left in stock : Backorder created
2024-05-06 16:20:22.562 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 470.
2024-05-06 16:20:22.562 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-06 16:20:22.563 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-06 16:20:22.563 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 470
2024-05-06 16:20:22.567 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-06 16:20:22.567 [main] ERROR --- c.h.d.service.OrderService     :   Can't update : Customer or Product or Discount is not same : Only Quantity can be updated
2024-05-06 16:20:22.567 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Can't update  : Customer or Product or Discount is not same : Only Quantity can be updated
2024-05-06 16:20:22.634 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-06 16:20:22.634 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-06 16:20:22.636 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-06 16:20:22.636 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-06 16:20:22.636 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1434
2024-05-06 16:20:22.638 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 1434
2024-05-06 16:20:22.671 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.ProductIntegrationTest]: ProductIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-06 16:20:22.679 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.ProductIntegrationTest
2024-05-06 16:20:22.699 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 1335
2024-05-06 16:20:22.699 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1335
2024-05-06 16:20:22.703 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@76cfe7e5
2024-05-06 16:20:22.703 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 1335: com.himanshu.departmentalStore.model.Product@76cfe7e5
2024-05-06 16:20:22.739 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 1336: com.himanshu.departmentalStore.model.Product@7de3a675
2024-05-06 16:20:22.739 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1336: com.himanshu.departmentalStore.model.Product@7de3a675
2024-05-06 16:20:22.749 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 1336: com.himanshu.departmentalStore.model.Product@504a659d
2024-05-06 16:20:22.773 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-06 16:20:22.773 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-06 16:20:22.777 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 1 products
2024-05-06 16:20:22.778 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 1 products
2024-05-06 16:20:22.805 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 1438: com.himanshu.departmentalStore.model.Product@592dac80
2024-05-06 16:20:22.805 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1438: com.himanshu.departmentalStore.model.Product@592dac80
2024-05-06 16:20:22.809 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 1438
2024-05-06 16:20:22.830 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 1339
2024-05-06 16:20:22.831 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 1339
2024-05-06 16:20:22.839 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 1339 deleted successfully
2024-05-06 16:20:22.857 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@36f1f8fd
2024-05-06 16:20:22.857 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@36f1f8fd
2024-05-06 16:20:22.863 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@36f1f8fd
2024-05-06 16:20:22.894 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 1441
2024-05-06 16:20:22.894 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1441
2024-05-06 16:20:22.898 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 1441
2024-05-06 16:20:22.925 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 1442
2024-05-06 16:20:22.925 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 1442
2024-05-06 16:20:22.930 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 1442
2024-05-06 16:20:22.996 [main] INFO  --- c.h.d.r.BackorderRepositoryTest     :   Starting BackorderRepositoryTest using Java 21.0.2 with PID 1820 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-06 16:20:22.996 [main] DEBUG --- c.h.d.r.BackorderRepositoryTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-06 16:20:22.996 [main] INFO  --- c.h.d.r.BackorderRepositoryTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-06 16:20:23.561 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-06 16:20:23.587 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 25 ms. Found 5 JPA repository interfaces.
2024-05-06 16:20:23.725 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Starting...
2024-05-06 16:20:23.744 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ccc4fed
2024-05-06 16:20:23.745 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Start completed.
2024-05-06 16:20:23.761 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-06 16:20:23.778 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.011s)
2024-05-06 16:20:23.786 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-06 16:20:23.787 [main] WARN  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` has a version (6) that is newer than the latest available migration (5) !
2024-05-06 16:20:23.787 [main] WARN  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` contains a failed future migration to version 6 !
2024-05-06 16:20:23.788 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-06 16:20:23.838 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-06 16:20:23.845 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-06 16:20:23.855 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-06 16:20:24.067 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-06 16:20:24.127 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-06 16:20:24.593 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-06 16:20:25.158 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-06 16:20:25.190 [main] INFO  --- c.h.d.r.BackorderRepositoryTest     :   Started BackorderRepositoryTest in 2.221 seconds (process running for 41.254)
2024-05-06 16:20:27.155 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 1
2024-05-06 16:20:27.160 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-06 16:20:27.163 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-06 16:20:27.167 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-06 16:20:27.171 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-06 16:20:27.294 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 1
2024-05-06 16:20:27.295 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@123a5a69
2024-05-06 16:20:27.298 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 1
2024-05-06 16:20:27.302 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-06 16:20:27.302 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 2 customers
2024-05-06 16:20:27.304 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@60497159
2024-05-06 16:20:27.308 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: com.himanshu.departmentalStore.model.Customer@2a54919c
2024-05-06 16:20:27.436 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 1
2024-05-06 16:20:27.439 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 1
2024-05-06 16:20:27.442 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all active discounts
2024-05-06 16:20:27.447 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@2f6cb765
2024-05-06 16:20:27.450 [main] INFO  --- c.h.d.service.DiscountService     :   fetching discount with ID 1
2024-05-06 16:20:27.453 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: com.himanshu.departmentalStore.model.Discount@4a947127
2024-05-06 16:20:27.456 [main] INFO  --- c.h.d.service.DiscountService     :   fetching discount with ID null
2024-05-06 16:20:27.486 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-06 16:20:27.491 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-06 16:20:27.497 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-06 16:20:27.501 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : -1
2024-05-06 16:20:27.505 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-06 16:20:27.510 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-06 16:20:27.517 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: null
2024-05-06 16:20:27.517 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 1 not found
2024-05-06 16:20:27.520 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID -1: com.himanshu.departmentalStore.model.Customer@788a710a
2024-05-06 16:20:27.521 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID -1 not found
2024-05-06 16:20:27.524 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID -1
2024-05-06 16:20:27.526 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID null
2024-05-06 16:20:27.530 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-06 16:20:27.534 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: -1
2024-05-06 16:20:27.562 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID -1: com.himanshu.departmentalStore.model.Discount@e49e6c0
2024-05-06 16:20:27.569 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: -1
2024-05-06 16:20:27.573 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: null
2024-05-06 16:20:27.577 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: null
2024-05-06 16:20:27.734 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-06 16:20:27.734 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-06 16:20:27.735 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-06 16:20:27.735 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-06 16:20:27.735 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-06 16:20:27.736 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 1
2024-05-06 16:20:27.740 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-06 16:20:27.745 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-06 16:20:27.745 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-06 16:20:27.746 [main] ERROR --- c.h.d.service.OrderService     :   No change in previous and current quantity : not updated
2024-05-06 16:20:27.750 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-06 16:20:27.886 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID null
2024-05-06 16:20:27.892 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID -1
2024-05-06 16:20:27.896 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID -1: com.himanshu.departmentalStore.model.Product@3f43c65e
2024-05-06 16:20:27.899 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: null
2024-05-06 16:20:27.904 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID -1
2024-05-06 16:20:27.912 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-06 16:20:27.913 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-06 16:20:27.913 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-06 16:20:27.913 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-06 16:20:27.914 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 1
2024-05-06 16:20:27.918 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-06 16:20:27.919 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-06 16:20:27.919 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-06 16:20:27.919 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-06 16:20:27.919 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-06 16:20:27.924 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-06 16:20:27.924 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-06 16:20:27.928 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 1
2024-05-06 16:20:27.929 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 1, order : com.himanshu.departmentalStore.model.Order@44b48a85
2024-05-06 16:20:27.933 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-06 16:20:27.933 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-06 16:20:27.933 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-06 16:20:27.933 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-06 16:20:27.934 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-06 16:20:27.934 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-06 16:20:27.934 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-06 16:20:27.938 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1
2024-05-06 16:20:27.938 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@2d10b934
2024-05-06 16:20:27.942 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: com.himanshu.departmentalStore.model.Product@65ae945a
2024-05-06 16:20:27.946 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-06 16:20:27.946 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 2 products
2024-05-06 16:20:27.949 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 1
2024-05-06 16:20:27.952 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@1c2895e
2024-05-06 16:20:27.956 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.util.CustomDateTimeUtilsTest]: CustomDateTimeUtilsTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-06 16:20:27.978 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.util.CustomDateTimeUtilsTest
2024-05-06 16:20:29.316 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-06 16:20:29.318 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-06 16:20:29.325 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-06 16:20:29.334 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-06 16:20:29.335 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown initiated...
2024-05-06 16:20:29.339 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown completed.
